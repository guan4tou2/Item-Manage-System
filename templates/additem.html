{%extends 'template.html' %} {%block title%}æ–°å¢ç‰©å“ - ç‰©å“ç®¡ç†ç³»çµ±{%endblock%}
{%block user%}{{User.User}}{%endblock%} {%block contain%}
<div class="container">
  <div class="row">
    <div class="col-12">
      <h1 class="display-5 text-center mb-4">â• æ–°å¢ç‰©å“</h1>
      <p class="lead text-center mb-5">è¨˜éŒ„æ‚¨çš„æ–°ç‰©å“ï¼ŒåŒ…å«ç…§ç‰‡å’Œæ”¾ç½®åœ°é»</p>
    </div>
  </div>
</div>
{%endblock%} {%block body%}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow">
        <div class="card-body">
          <form
            class="row g-3"
            action="{{ url_for('items.additem') }}"
            method="post"
            enctype="multipart/form-data"
          >
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
            <!-- ç‰©å“åç¨± -->
            <div class="form-floating col-md-6">
              <input
                type="text"
                class="form-control"
                id="ItemName"
                name="ItemName"
                placeholder="ç‰©å“åç¨±"
                required
              />
              <label for="ItemName" class="form-label">ğŸ“ ç‰©å“åç¨±</label>
            </div>

            <!-- ç‰©å“ID -->
            <div class="form-floating col-md-6">
              <input
                type="text"
                class="form-control"
                id="ItemID"
                name="ItemID"
                placeholder="ç‰©å“ID"
                required
              />
              <label for="ItemID" class="form-label">ğŸ·ï¸ ç‰©å“ID</label>
            </div>

            <!-- ç…§ç‰‡ä¸Šå‚³ -->
            <div class="col-md-6">
              <label for="ItemPic" class="form-label">ğŸ“¸ ç‰©å“ç…§ç‰‡</label>
              <input
                class="form-control form-control-lg"
                type="file"
                id="ItemPic"
                name="ItemPic"
                accept="image/*"
              />
              <div class="form-text">æ”¯æ´ JPG, PNG, GIF æ ¼å¼ï¼Œæœ€å¤§ 16MB</div>
            </div>

            <!-- æ”¾ç½®åœ°é» -->
            <div class="form-floating col-md-6">
              <input
                type="text"
                class="form-control"
                id="ItemStorePlace"
                name="ItemStorePlace"
                placeholder="æ”¾ç½®åœ°é»"
                required
              />
              <label for="ItemStorePlace" class="form-label">ğŸ“ æ”¾ç½®åœ°é»</label>
            </div>

            <!-- æ¨“å±¤ / æˆ¿é–“ / å€åŸŸ -->
            <div class="form-floating col-md-4">
              <select id="ItemFloor" class="form-select" name="ItemFloor">
                <option value="" selected>é¸æ“‡æ¨“å±¤</option>
                {% for f in floors %}
                <option value="{{f}}">{{f}}</option>
                {% endfor %}
              </select>
              <label for="ItemFloor" class="form-label">ğŸ¢ æ¨“å±¤</label>
            </div>
            <div class="form-floating col-md-4">
              <select id="ItemRoom" class="form-select" name="ItemRoom">
                <option value="" selected>é¸æ“‡æˆ¿é–“</option>
                {% for r in rooms %}
                <option value="{{r}}">{{r}}</option>
                {% endfor %}
              </select>
              <label for="ItemRoom" class="form-label">ğŸšª æˆ¿é–“</label>
            </div>
            <div class="form-floating col-md-4">
              <select id="ItemZone" class="form-select" name="ItemZone">
                <option value="" selected>é¸æ“‡å€åŸŸ</option>
                {% for z in zones %}
                <option value="{{z}}">{{z}}</option>
                {% endfor %}
              </select>
              <label for="ItemZone" class="form-label">ğŸ—„ å€åŸŸ/æ«ƒä½</label>
            </div>

            <!-- ç‰©å“é¡å‹ -->
            <div class="form-floating col-md-6">
              <select
                id="ItemType"
                class="form-select"
                name="ItemType"
                required
              >
                <option value="" selected disabled hidden>è«‹é¸æ“‡é¡å‹</option>
                {%for type in itemtype%}
                <option value="{{type.name}}">{{type.name}}</option>
                {%endfor%}
              </select>
              <label for="ItemType" class="form-label">ğŸ“‚ ç‰©å“é¡å‹</label>
            </div>

            <!-- ç‰©å“æ“æœ‰è€… -->
            <div class="form-floating col-md-6">
              <input
                type="text"
                class="form-control"
                id="ItemOwner"
                name="ItemOwner"
                placeholder="æ“æœ‰è€…"
                required
              />
              <label for="ItemOwner" class="form-label">ğŸ‘¤ ç‰©å“æ“æœ‰è€…</label>
            </div>

            <!-- å–å¾—æ—¥æœŸ -->
            <div class="form-floating col-md-6">
              <input
                type="date"
                class="form-control"
                id="ItemGetDate"
                name="ItemGetDate"
                required
              />
              <label for="ItemGetDate" class="form-label">ğŸ“… å–å¾—æ—¥æœŸ</label>
            </div>

            <!-- ä½¿ç”¨å¹´é™ -->
            <div class="form-floating col-md-6">
              <input
                type="number"
                class="form-control"
                id="ItemAge"
                name="ItemAge"
                placeholder="ä½¿ç”¨å¹´é™"
                value="1"
                min="1"
                required
              />
              <label for="ItemAge" class="form-label">â° ä½¿ç”¨å¹´é™ (å¹´)</label>
            </div>

            <!-- ç‰©å“æè¿° -->
            <div class="form-floating col-12">
              <textarea
                class="form-control"
                id="ItemDesc"
                name="ItemDesc"
                style="height: 100px"
                placeholder="ç‰©å“æè¿°"
              ></textarea>
              <label for="ItemDesc" class="form-label">ğŸ“ ç‰©å“æè¿°</label>
            </div>

            <!-- ä¿å›ºèˆ‡ä½¿ç”¨æœŸé™ -->
            <div class="form-floating col-md-6">
              <input
                type="date"
                class="form-control"
                id="WarrantyExpiry"
                name="WarrantyExpiry"
                placeholder="ä¿å›ºæˆªæ­¢"
              />
              <label for="WarrantyExpiry" class="form-label">ğŸ›¡ ä¿å›ºæˆªæ­¢</label>
            </div>
            <div class="form-floating col-md-6">
              <input
                type="date"
                class="form-control"
                id="UsageExpiry"
                name="UsageExpiry"
                placeholder="ä½¿ç”¨æœŸé™"
              />
              <label for="UsageExpiry" class="form-label">âŒ› ä½¿ç”¨æœŸé™</label>
            </div>

            <!-- æäº¤æŒ‰éˆ• -->
            <div class="col-12 text-center">
              <button type="submit" class="btn btn-primary btn-lg">
                ğŸ’¾ å„²å­˜ç‰©å“
              </button>
              <a
                href="{{ url_for('items.home') }}"
                class="btn btn-secondary btn-lg ms-2"
                >ğŸ”™ è¿”å›é¦–é </a
              >
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{%endblock%} {%block js%}
<script>
  // è¨­å®šä»Šå¤©çš„æ—¥æœŸç‚ºé è¨­å€¼
  var Today = new Date();
  var todayString =
    Today.getFullYear() +
    "-" +
    String(Today.getMonth() + 1).padStart(2, "0") +
    "-" +
    String(Today.getDate()).padStart(2, "0");
  document.getElementById("ItemGetDate").setAttribute("value", todayString);

  // åœ–ç‰‡é è¦½åŠŸèƒ½
  document.getElementById("ItemPic").addEventListener("change", function (e) {
    const file = e.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function (e) {
        // å¯ä»¥åœ¨é€™è£¡æ·»åŠ åœ–ç‰‡é è¦½åŠŸèƒ½
        console.log("åœ–ç‰‡å·²é¸æ“‡:", file.name);
      };
      reader.readAsDataURL(file);
    }
  });
</script>
{%endblock%}
